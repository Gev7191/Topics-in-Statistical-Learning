---
title: "TSL Project"
author: "L. Insolia, J. Kim and G. Yeghikyan"    
date: "`r format(Sys.time(), '%d/%m/%Y')`"
output:
  html_notebook:
    # df_print: paged
    toc: yes
    toc_depth: '3' # up to three depths of headings (specified by #, ## and ###)
    highlight: tango
    keep_tex: yes
    number_sections: yes
    # theme: united
  # pdf document:
  html_document:
    theme: united
    highlight: tango    
    toc: yes
    toc_depth: '3' 
  pdf_document:
    toc: yes
    toc_depth: '3'
    keep_tex: true
    latex_engine: pdflatex
editor_options:
  # toc: yes
  # toc_depth: 3
  chunk_output_type: inline
---

# General information #

We analyze a dataset published on [Kaggle](https://www.kaggle.com/etiennelq/french-employment-by-town).
It refers to french employment, salaries, population per town. 
The aim is to evaluate equality/inequalities in France, and geographical distribution of business according to their size.

Such data are collected by the INSEE.
Information regarding the number of firms in every french town, categorized by size
can be found [here](https://www.insee.fr/fr/metadonnees/definition/c1135). This dataset contains about 35000 units/per town.

Information about salaries around french town per job categories, age and sex (expressed in average net amount per hour in euro) can be found [here](https://www.insee.fr/fr/statistiques/2522515). This dataset contains about 5000 units/per town. 

Demographic information in France per town, age, sex and living mode
can be found [here](https://www.insee.fr/fr/statistiques/2863607). This dataset contains about 8 million units/per town. Additional info about Population Data can be found [here](https://www.insee.fr/fr/statistiques/2863607#dictionnaire). 

These datasets have been pre-processed and put together. The final dataset contains 58 variables and 5022 observations. 

## Aim of the study ##
This project aims to explore structure of French labour market. 
In particular, we are interested in:

* evaluating possible inequalities: per towns/region, sex, age, job categories etc.;
* discover geographical distribution of business according to their size
* predicting the ... using a regression model;
* reduce the dimensionality of ... performing a PCA;
* explore different algorithms to cluster male/females using ...

## Plan for the study ##
1. Unsupervised learning: 
* PCA
* Clustering methods (K-means/Hierarchical)
2. Supervised learning:
* Linear/Quadratic Discriminant Analysis
* KNN
* Cross-validation
* Bootstrap
* Subset selection 
* Shrinkage methods
* Dimension reduction methods
3. Description of population demographics in France
4. Structure of the french labour market
5. ...
6. Future works

## Plan for the report ##
1. Introduction 
* reporting background and motivation
2. Methods 
* Description of data and preprocessing steps
* Description of computational and statistical methodology used
3. Results
* Description of results obtained; tables and figures
4. Discussion
* Scientific interpretation of results, as applicable
* Description of future plans to pursue this line of research
5. Appendix 
* Full detail on Methods
* Record of methodology that was explored and discarded 
6. References.

# General pre-processing phase #

Loading all libraries needed throughout the notebook:
```{r}
if(!require(plyr)){install.packages("dplyr"); library(plyr)}
if(!require(dplyr)){install.packages("dplyr"); library(dplyr)}
if(!require(ggplot2)){install.packages("ggplot2"); library(ggplot2)}
if(!require(ggmap)){install.packages("ggmap"); library(ggmap)}
if(!require(ggbiplot)){
  if(!require(devtools)){
    install.packages("devtools")}
  install_github("vqv/ggbiplot")
  library(ggbiplot)}
if(!require(mclust)){install.packages("mclust"); library(mclust)} 
if(!require(corrplot)){install.packages("corrplot"); library(corrplot)}
if(!require(MASS)){install.packages("MASS"); library(MASS)}
if(!require(factoextra)){install.packages("factoextra"); library(factoextra)}
if(!require(rafalib)){install.packages("rafalib"); library(rafalib)}
if(!require(boot)){install.packages("boot"); library(boot)}
if(!require(glmnet)){install.packages("glmnet"); library(glmnet)}
```

Cleaning
```{r}
# loading data
setwd("./data")
fulldata <- read.csv("newDat.csv", encoding = "UTF-8")

# check the names
names(fulldata)

# change the variable's name
names(fulldata)[1:2] <-
  c("town",
    "total_firms")

# drop repeated variable
fulldata <- subset(fulldata, select = -c(town_name))
```


# Unsupervised learning
## PCA
```{r}

```

## Clustering methods (K-means/Hierarchical)
```{r}

```


# Supervised learning
```{r}

```

